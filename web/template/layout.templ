package template

templ layout(title string) {
	<!DOCTYPE html>
	<html lang="en" class="h-full">
		<head>
			<meta charset="utf-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
			<link rel="preconnect" href="https://fonts.googleapis.com"/>
			<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
			<link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet"/>
			<link rel="stylesheet" href={ "/assets/main.css?" + assetVersion }/>
			<title>
				if title != "" {
					{ title } -
				}
				it.getsit - it makes your URLs... shorter
			</title>
			<script>let FF_FOUC_FIX;</script>
		</head>
		<body class="h-full w-full">
			<div class="h-full p-4 antialiased sm:p-10 text-gray bg-gray-light">
				{ children... }
			</div>
		</body>
	</html>
}

type headerConfig struct {
	logoSize logoSize
}

templ header(c headerConfig) {
	<header class="space-y-2">
		<a href="/" class="block">
			@logo(logoConfig{size: c.logoSize, hasHoverStyles: true})
		</a>
		<div class="text-gray text-xl font-bold">it makes your URLs... shorter</div>
	</header>
}

templ message(message string) {
	<div id="message">
		if message != "" {
			<div class="py-1 px-2 border border-green-dark border-l-2 font-bold first-letter:uppercase">{ message }</div>
		}
	</div>
}

templ errors(errors map[string]string) {
	<div id="errors">
		if len(errors) > 0 {
			<ul class="py-1 px-2 border border-red border-l-2 font-bold">
				for _ , value := range errors {
					<li class="first-letter:uppercase">{ value }</li>
				}
			</ul>
		}
	</div>
}

type buttonConfig struct {
	text       string
	className  string
	buttonType string
	href       string
}

const buttonBaseClassName string = "py-1.5 px-6 text-center bg-green-dark border border-green-dark rounded hover:bg-green-light font-bold text-gray-light hover:text-gray uppercase text-lg"

templ button(c buttonConfig) {
	if c.href != "" {
		<a
			class={ buttonBaseClassName, c.className }
			href={ templ.SafeURL(c.href) }
		>
			{ c.text }
		</a>
	} else {
		<button
			class={ buttonBaseClassName, c.className }
			type={ c.buttonType }
		>
			{ c.text }
		</button>
	}
}
